<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ToC Maker</title>
  <script src="./index.js"></script>
  <script>
    let visible = false;
    let buttonText = 'Create';

    const tocRenderer = new ToCRenderer('toc')

    const onClick = () => {
      if (visible === false) {
        tocRenderer.render()
      } else {
        tocRenderer.remove()
      }

      visible = !visible
      buttonText = visible ? 'Remove' : 'Create'
      document.querySelector('#btn_toc').textContent = buttonText
    }

    document.addEventListener('DOMContentLoaded', () => {
      document.querySelector('#btn_toc').textContent = buttonText
      document.querySelector('#btn_toc').addEventListener('onclick', onClick)
    });
  </script>
</head>

<body>
  <button id="btn_toc" onclick="onClick()"></button>
  <div id="toc"></div>
  <div>
    <h1>1. h1</h1>
    <h2>1.1. h2</h2>
    <h2>1.2. h2</h2>
    <h2>1.3. h2</h2>
    <h3>1.3.1. h3</h3>
    <h4>1.3.1.1. h4</h4>
    <h4>1.3.1.2. h4</h4>
    <h3>1.3.2. h3</h3>
  </div>
  <div>
    <h1>2. h1</h1>
    <h2>2.1. h2</h2>
    <h2>2.2. h2</h2>
    <h3>2.2.1. h3</h3>
    <h3>2.2.2. h3</h3>
  </div>
</body>

</html>